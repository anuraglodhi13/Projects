<link rel="stylesheet" href="/style.css" type="text/css">
<br>
<div id="status">
  <form method="get" action="/teacher/add">
    <div style="margin-left: 81px;"><b> Total <%= student.length%> Students</b></div>
    <%if(addedSuccesfully === true){%>
      <div> <b style="color: green; margin-left: 418px;"> Student record with rollno <%=rollno%> added successfully.</b> </div>    <% } %>
      <%if(editedSuccesfully === true){%>
        <div> <b style="color: green; margin-left: 418px;"> Student record with rollno <%=rollno%> edited successfully</b> </div>    <% } %>
        <%if(deletedSuccesfully === true){%>
          <div> <b style="color: green; margin-left: 418px;"> Student record with rollno <%=rollno%> deleted successfully!!</b> </div>    <% } %>
        <button class="btn btn-primary" type="submit" style="margin-left: 1075px; margin-top: -41px">Add Record</button>
  </form>
</div>


<div class="container">
  <table class = "table table-bordered">
    <thead>
      <tr style="text-align: center;">
        <th scope="col">Roll No.</th>
        <th scope="col">Name</th>       
        <th scope="col">Date of Birth</th>
        <th scope="col">Score</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
        <%  student.forEach(element => { %>
            <tr class="head">
                <td><%= element.rollno%></td>
                <td><%= element.name %></td>               
                <td><%= element.dob %></td>
                <td><%= element.score %></td> 
                <td>
                  <a href="/teacher/edit/<%= element.rollno%>"><img style="margin: 0px 5px;" src="https://img.icons8.com/material-outlined/30/000000/edit.png"/></a>
                  <button data-target="#deleteModal<%=element.rollno%>" type="submit" class="delete-button" data-toggle="modal" > <img style="margin: 0px 5px;" src="https://img.icons8.com/ios-glyphs/30/000000/filled-trash.png"/></button>                  
                </td>
              </tr>
                <!-- Delete Modal -->
    <div id="deleteModal<%=element.rollno%>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <div class="modal-header flex-column">
                <div class="icon-box">
                    <i class="material-icons">&#xE5CD;</i>
                </div>
                <h4 class="modal-title w-100">Are you sure?</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            </div>
            <div class="modal-body">
                <p>Do you really want to delete this record? This process
                    cannot be undone.</p>
            </div>
            <div class="modal-footer justify-content-center">
                              <form method="post" action="/teacher/delete/<%=element.rollno%>">
                      <button type="button" class="btn btn-secondary"
                    data-dismiss="modal">Cancel</button>
                      <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                    
            </div>
        </div>
    
  </div> 
        
  <%}) %>
    </tbody>
  </table>
</div>


